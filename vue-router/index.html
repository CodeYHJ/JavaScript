<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
</head>

<body>
    <div id="app"></div>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="./VueRouter.js"></script>
    <script>
        // vue中使用vue-router分为三个步骤
        // 1. 插件安装
        // 2. vue-router实例化
        // 3. vue-router实例挂载到vue
        const install = (Vue) => {
            // 在每个组件的指定生命周期内，处理你想处理的事情
            Vue.mixin({
                beforeCreate() {
                },
            });
            //注册全局组件
            // Vue.component();
            Object.defineProperty(Vue.prototype, "$router", {
                get() {
                    return this.$options.router
                }
            })
        };
        const router = new VueRouter();
        router.install = install;
        Vue.use(router);
        const app = new Vue({ router }).$mount("#app");

        // 通过Object.defineProperty劫持Vue的作用域链，可以在每个组件里获取router实例
        console.log(app.$router, "1111");

    </script>
</body>

</html>